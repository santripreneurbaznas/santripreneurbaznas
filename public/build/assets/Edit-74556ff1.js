import{G as p,a as r,j as e,S as f,x as b,F as g,A as _}from"./app-b764cbc1.js";import{A as x}from"./AuthenticatedLayout-fd961fd9.js";import"./Toater-8444c9b7.js";import"./index-a400f346.js";import"./index-aeea4db0.js";function A({registration:n,auth:y,categories:m}){const{data:t,setData:l,errors:a,post:v,processing:o,reset:u,progress:d}=p({category_id:n.category_id||"",place_of_birth:n.place_of_birth||"",date_of_birth:n.date_of_birth||"",gender:n.gender||"",address:n.address||"",boarding_school_name:n.boarding_school_name||"",motivation:n.motivation||"",estimated_monthly_income:n.estimated_monthly_income||"",number_wa:n.number_wa||"",business_proposal_file:null,mustahik_certificate_file:null,pesantren_certificate_file:null}),h=i=>{i.preventDefault();const s=new FormData;s.append("category_id",t.category_id),s.append("place_of_birth",t.place_of_birth),s.append("date_of_birth",t.date_of_birth),s.append("gender",t.gender),s.append("address",t.address),s.append("boarding_school_name",t.boarding_school_name),s.append("motivation",t.motivation),s.append("estimated_monthly_income",t.estimated_monthly_income),s.append("number_wa",t.number_wa),t.business_proposal_file&&s.append("business_proposal_file",t.business_proposal_file),t.mustahik_certificate_file&&s.append("mustahik_certificate_file",t.mustahik_certificate_file),t.pesantren_certificate_file&&s.append("pesantren_certificate_file",t.pesantren_certificate_file),_.post(`/user/my-registrations/${n.id}`,{_method:"PATCH",...Object.fromEntries(s)},{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{u("business_proposal_file","mustahik_certificate_file","pesantren_certificate_file")}})},c=i=>s=>{l(i,s.target.files[0])};return r(x,{children:[e(f,{title:`Edit Pendaftaran ${n.competition.name}`}),e("div",{className:" bg-gray-50 min-h-screen",children:e("div",{className:"",children:e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:r("div",{className:"p-8",children:[r("div",{className:"mb-8 text-center",children:[e("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Edit Formulir Pendaftaran"}),e("p",{className:"text-gray-600",children:"Silakan perbarui data berikut sesuai kebutuhan"})]}),r("form",{onSubmit:h,className:"space-y-6",children:[r("div",{className:"space-y-2",children:[r("label",{className:"block text-sm font-medium text-gray-700",children:["Kategori Kompetisi"," ",e("span",{className:"text-red-500",children:"*"})]}),r("select",{name:"category_id",value:t.category_id,onChange:i=>l("category_id",i.target.value),className:`mt-1 block w-full rounded-md border ${a.category_id?"border-red-300":"border-gray-300"} shadow-sm focus:border-[#4CAF50] focus:ring focus:ring-[#4CAF50] focus:ring-opacity-50`,required:!0,children:[e("option",{value:"",children:"-- Pilih Kategori --"}),m.map(i=>e("option",{value:i.id,children:i.name},i.id))]}),a.category_id&&e("p",{className:"mt-1 text-sm text-red-600",children:a.category_id})]}),r("div",{className:"border-t border-gray-200 pt-6",children:[e("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informasi Pribadi"}),r("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r("div",{children:[r("label",{className:"block text-sm font-medium text-gray-700",children:["Tempat Lahir"," ",e("span",{className:"text-red-500",children:"*"})]}),e("input",{type:"text",name:"place_of_birth",value:t.place_of_birth,onChange:i=>l("place_of_birth",i.target.value),className:`mt-1 block w-full rounded-md border ${a.place_of_birth?"border-red-300":"border-gray-300"} shadow-sm focus:border-[#4CAF50] focus:ring focus:ring-[#4CAF50] focus:ring-opacity-50`,required:!0}),a.place_of_birth&&e("p",{className:"mt-1 text-sm text-red-600",children:a.place_of_birth})]}),r("div",{children:[r("label",{className:"block text-sm font-medium text-gray-700",children:["Tanggal Lahir"," ",e("span",{className:"text-red-500",children:"*"})]}),e("input",{type:"date",name:"date_of_birth",value:t.date_of_birth,onChange:i=>l("date_of_birth",i.target.value),className:`mt-1 block w-full rounded-md border ${a.date_of_birth?"border-red-300":"border-gray-300"} shadow-sm focus:border-[#4CAF50] focus:ring focus:ring-[#4CAF50] focus:ring-opacity-50`,required:!0}),a.date_of_birth&&e("p",{className:"mt-1 text-sm text-red-600",children:a.date_of_birth})]}),r("div",{children:[r("label",{className:"block text-sm font-medium text-gray-700",children:["Jenis Kelamin"," ",e("span",{className:"text-red-500",children:"*"})]}),r("select",{name:"gender",value:t.gender,onChange:i=>l("gender",i.target.value),className:`mt-1 block w-full rounded-md border ${a.gender?"border-red-300":"border-gray-300"} shadow-sm focus:border-[#4CAF50] focus:ring focus:ring-[#4CAF50] focus:ring-opacity-50`,required:!0,children:[e("option",{value:"",children:"-- Pilih Jenis Kelamin --"}),e("option",{value:"Laki-laki",children:"Laki-laki"}),e("option",{value:"Perempuan",children:"Perempuan"})]}),a.gender&&e("p",{className:"mt-1 text-sm text-red-600",children:a.gender})]}),r("div",{children:[r("label",{className:"block text-sm font-medium text-gray-700",children:["Nomor WhatsApp"," ",e("span",{className:"text-red-500",children:"*"})]}),e("input",{type:"text",name:"number_wa",value:t.number_wa,onChange:i=>l("number_wa",i.target.value),className:`mt-1 block w-full rounded-md border ${a.number_wa?"border-red-300":"border-gray-300"} shadow-sm focus:border-[#4CAF50] focus:ring focus:ring-[#4CAF50] focus:ring-opacity-50`,placeholder:"Contoh: 081234567890",required:!0}),a.number_wa&&e("p",{className:"mt-1 text-sm text-red-600",children:a.number_wa})]})]})]}),r("div",{children:[r("label",{className:"block text-sm font-medium text-gray-700",children:["Alamat Lengkap"," ",e("span",{className:"text-red-500",children:"*"})]}),e("textarea",{name:"address",value:t.address,onChange:i=>l("address",i.target.value),rows:3,className:`mt-1 block w-full rounded-md border ${a.address?"border-red-300":"border-gray-300"} shadow-sm focus:border-[#4CAF50] focus:ring focus:ring-[#4CAF50] focus:ring-opacity-50`,required:!0}),a.address&&e("p",{className:"mt-1 text-sm text-red-600",children:a.address})]}),r("div",{className:"border-t border-gray-200 pt-6",children:[e("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informasi Pesantren"}),r("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r("div",{children:[r("label",{className:"block text-sm font-medium text-gray-700",children:["Nama Pesantren"," ",e("span",{className:"text-red-500",children:"*"})]}),e("input",{type:"text",name:"boarding_school_name",value:t.boarding_school_name,onChange:i=>l("boarding_school_name",i.target.value),className:`mt-1 block w-full rounded-md border ${a.boarding_school_name?"border-red-300":"border-gray-300"} shadow-sm focus:border-[#4CAF50] focus:ring focus:ring-[#4CAF50] focus:ring-opacity-50`,required:!0}),a.boarding_school_name&&e("p",{className:"mt-1 text-sm text-red-600",children:a.boarding_school_name})]}),r("div",{children:[r("label",{className:"block text-sm font-medium text-gray-700",children:["Perkiraan Penghasilan Bulanan"," ",e("span",{className:"text-red-500",children:"*"})]}),r("select",{name:"estimated_monthly_income",value:t.estimated_monthly_income,onChange:i=>l("estimated_monthly_income",i.target.value),className:`mt-1 block w-full rounded-md border ${a.estimated_monthly_income?"border-red-300":"border-gray-300"} shadow-sm focus:border-[#4CAF50] focus:ring focus:ring-[#4CAF50] focus:ring-opacity-50`,required:!0,children:[e("option",{value:"",children:"-- Pilih Range Penghasilan --"}),e("option",{value:"< Rp 1.000.000",children:"Kurang dari Rp 1.000.000"}),e("option",{value:"Rp 1.000.000 - Rp 3.000.000",children:"Rp 1.000.000 - Rp 3.000.000"}),e("option",{value:"Rp 3.000.000 - Rp 5.000.000",children:"Rp 3.000.000 - Rp 5.000.000"}),e("option",{value:"> Rp 5.000.000",children:"Lebih dari Rp 5.000.000"})]}),a.estimated_monthly_income&&e("p",{className:"mt-1 text-sm text-red-600",children:a.estimated_monthly_income})]})]})]}),r("div",{children:[r("label",{className:"block text-sm font-medium text-gray-700",children:["Motivasi Mengikuti Kompetisi"," ",e("span",{className:"text-red-500",children:"*"})]}),e("textarea",{name:"motivation",value:t.motivation,onChange:i=>l("motivation",i.target.value),rows:4,className:`mt-1 block w-full rounded-md border ${a.motivation?"border-red-300":"border-gray-300"} shadow-sm focus:border-[#4CAF50] focus:ring focus:ring-[#4CAF50] focus:ring-opacity-50`,placeholder:"Jelaskan motivasi Anda mengikuti kompetisi ini (maksimal 500 karakter)",required:!0}),a.motivation&&e("p",{className:"mt-1 text-sm text-red-600",children:a.motivation})]}),r("div",{className:"border-t border-gray-200 pt-6",children:[e("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload Dokumen"}),e("p",{className:"text-sm text-gray-500 mb-6",children:"Silakan upload dokumen baru jika ingin mengubah (format PDF, maksimal 2MB per file)"}),r("div",{className:"space-y-6",children:[r("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Proposal Bisnis"}),r("p",{className:"text-sm text-[#4CAF50] mb-2",children:["File saat ini:"," ",e("a",{href:n.business_proposal_file_url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Lihat Dokumen"})]}),e("div",{className:"mt-1 flex items-center",children:r("label",{className:"flex flex-col items-center px-4 py-6 bg-white rounded-lg border border-dashed border-gray-300 cursor-pointer hover:bg-gray-50 transition-colors duration-150",children:[e("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e("span",{className:"mt-2 text-sm text-gray-600",children:t.business_proposal_file?t.business_proposal_file.name:"Pilih File Baru (Opsional)"}),e("input",{type:"file",name:"business_proposal_file",onChange:c("business_proposal_file"),className:"hidden",accept:".pdf"})]})}),a.business_proposal_file&&e("p",{className:"mt-1 text-sm text-red-600",children:a.business_proposal_file}),d&&r("progress",{value:d.percentage,max:"100",className:"w-full mt-2 h-1 rounded bg-gray-200 [&::-webkit-progress-bar]:rounded [&::-webkit-progress-value]:rounded [&::-webkit-progress-value]:bg-[#4CAF50]",children:[d.percentage,"%"]})]}),r("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Sertifikat Mustahik"}),r("p",{className:"text-sm text-[#4CAF50] mb-2",children:["File saat ini:"," ",e("a",{href:n.mustahik_certificate_file_url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Lihat Dokumen"})]}),e("div",{className:"mt-1 flex items-center",children:r("label",{className:"flex flex-col items-center px-4 py-6 bg-white rounded-lg border border-dashed border-gray-300 cursor-pointer hover:bg-gray-50 transition-colors duration-150",children:[e("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e("span",{className:"mt-2 text-sm text-gray-600",children:t.mustahik_certificate_file?t.mustahik_certificate_file.name:"Pilih File Baru (Opsional)"}),e("input",{type:"file",name:"mustahik_certificate_file",onChange:c("mustahik_certificate_file"),className:"hidden",accept:".pdf"})]})}),a.mustahik_certificate_file&&e("p",{className:"mt-1 text-sm text-red-600",children:a.mustahik_certificate_file})]}),r("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Sertifikat Pesantren"}),r("p",{className:"text-sm text-[#4CAF50] mb-2",children:["File saat ini:"," ",e("a",{href:n.pesantren_certificate_file_url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Lihat Dokumen"})]}),e("div",{className:"mt-1 flex items-center",children:r("label",{className:"flex flex-col items-center px-4 py-6 bg-white rounded-lg border border-dashed border-gray-300 cursor-pointer hover:bg-gray-50 transition-colors duration-150",children:[e("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e("span",{className:"mt-2 text-sm text-gray-600",children:t.pesantren_certificate_file?t.pesantren_certificate_file.name:"Pilih File Baru (Opsional)"}),e("input",{type:"file",name:"pesantren_certificate_file",onChange:c("pesantren_certificate_file"),className:"hidden",accept:".pdf"})]})}),a.pesantren_certificate_file&&e("p",{className:"mt-1 text-sm text-red-600",children:a.pesantren_certificate_file})]})]})]}),r("div",{className:"flex justify-end pt-6 border-t border-gray-200 space-x-4",children:[e(b,{href:route("user.registrations.index"),className:"inline-flex items-center px-6 py-3 border border-gray-300 shadow-sm text-base font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#4CAF50] transition-colors duration-200",children:"Batal"}),e("button",{type:"submit",disabled:o,className:`inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-[#4CAF50] hover:bg-[#259148] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#4CAF50] transition-colors duration-200 ${o?"opacity-75 cursor-not-allowed":""}`,children:o?r(g,{children:[r("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Memproses..."]}):"Simpan Perubahan"})]})]})]})})})})]})}export{A as default};
