import{G as p,a,j as e,S as f,x as b,F as g,A as _}from"./app-8a861644.js";import{A as x}from"./AuthenticatedLayout-b5159d16.js";import"./Toater-400d7534.js";import"./index-59108e71.js";import"./index-11921673.js";function A({registration:l,auth:y,categories:m,errors:t}){const{data:r,setData:s,post:v,processing:o,reset:u,progress:d}=p({category_id:l.category_id||"",place_of_birth:l.place_of_birth||"",date_of_birth:l.date_of_birth||"",gender:l.gender||"",address:l.address||"",boarding_school_name:l.boarding_school_name||"",motivation:l.motivation||"",estimated_monthly_income:l.estimated_monthly_income||"",number_wa:l.number_wa||"",business_proposal_file:null,mustahik_certificate_file:null,pesantren_certificate_file:null}),h=i=>{i.preventDefault();const n=new FormData;n.append("category_id",r.category_id),n.append("place_of_birth",r.place_of_birth),n.append("date_of_birth",r.date_of_birth),n.append("gender",r.gender),n.append("address",r.address),n.append("boarding_school_name",r.boarding_school_name),n.append("motivation",r.motivation),n.append("estimated_monthly_income",r.estimated_monthly_income),n.append("number_wa",r.number_wa),r.business_proposal_file&&n.append("business_proposal_file",r.business_proposal_file),r.mustahik_certificate_file&&n.append("mustahik_certificate_file",r.mustahik_certificate_file),r.pesantren_certificate_file&&n.append("pesantren_certificate_file",r.pesantren_certificate_file),_.post(`/user/my-registrations/${l.id}`,{_method:"PATCH",...Object.fromEntries(n)},{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{u("business_proposal_file","mustahik_certificate_file","pesantren_certificate_file")}})},c=i=>n=>{s(i,n.target.files[0])};return a(x,{children:[e(f,{title:`Edit Pendaftaran ${l.competition.name}`}),e("div",{className:" bg-gray-50 min-h-screen",children:e("div",{className:"",children:e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:a("div",{className:"p-8",children:[a("div",{className:"mb-8 text-center",children:[e("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Edit Formulir Pendaftaran"}),e("p",{className:"text-gray-600",children:"Silakan perbarui data berikut sesuai kebutuhan"})]}),a("form",{onSubmit:h,className:"space-y-6",children:[a("div",{className:"space-y-2",children:[a("label",{className:"block text-sm font-medium text-gray-700",children:["Kategori Kompetisi"," ",e("span",{className:"text-red-500",children:"*"})]}),a("select",{name:"category_id",value:r.category_id,onChange:i=>s("category_id",i.target.value),className:`mt-1 block w-full rounded-md border ${t.category_id?"border-red-300":"border-gray-300"} shadow-sm focus:border-[#4CAF50] focus:ring focus:ring-[#4CAF50] focus:ring-opacity-50`,required:!0,children:[e("option",{value:"",children:"-- Pilih Kategori --"}),m.map(i=>e("option",{value:i.id,children:i.name},i.id))]}),t.category_id&&e("p",{className:"mt-1 text-sm text-red-600",children:t.category_id})]}),a("div",{className:"border-t border-gray-200 pt-6",children:[e("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informasi Pribadi"}),a("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700",children:["Tempat Lahir"," ",e("span",{className:"text-red-500",children:"*"})]}),e("input",{type:"text",name:"place_of_birth",value:r.place_of_birth,onChange:i=>s("place_of_birth",i.target.value),className:`mt-1 block w-full rounded-md border ${t.place_of_birth?"border-red-300":"border-gray-300"} shadow-sm focus:border-[#4CAF50] focus:ring focus:ring-[#4CAF50] focus:ring-opacity-50`,required:!0}),t.place_of_birth&&e("p",{className:"mt-1 text-sm text-red-600",children:t.place_of_birth})]}),a("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700",children:["Tanggal Lahir"," ",e("span",{className:"text-red-500",children:"*"})]}),e("input",{type:"date",name:"date_of_birth",value:r.date_of_birth,onChange:i=>s("date_of_birth",i.target.value),className:`mt-1 block w-full rounded-md border ${t.date_of_birth?"border-red-300":"border-gray-300"} shadow-sm focus:border-[#4CAF50] focus:ring focus:ring-[#4CAF50] focus:ring-opacity-50`,required:!0}),t.date_of_birth&&e("p",{className:"mt-1 text-sm text-red-600",children:t.date_of_birth})]}),a("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700",children:["Jenis Kelamin"," ",e("span",{className:"text-red-500",children:"*"})]}),a("select",{name:"gender",value:r.gender,onChange:i=>s("gender",i.target.value),className:`mt-1 block w-full rounded-md border ${t.gender?"border-red-300":"border-gray-300"} shadow-sm focus:border-[#4CAF50] focus:ring focus:ring-[#4CAF50] focus:ring-opacity-50`,required:!0,children:[e("option",{value:"",children:"-- Pilih Jenis Kelamin --"}),e("option",{value:"Laki-laki",children:"Laki-laki"}),e("option",{value:"Perempuan",children:"Perempuan"})]}),t.gender&&e("p",{className:"mt-1 text-sm text-red-600",children:t.gender})]}),a("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700",children:["Nomor WhatsApp"," ",e("span",{className:"text-red-500",children:"*"})]}),e("input",{type:"text",name:"number_wa",value:r.number_wa,onChange:i=>s("number_wa",i.target.value),className:`mt-1 block w-full rounded-md border ${t.number_wa?"border-red-300":"border-gray-300"} shadow-sm focus:border-[#4CAF50] focus:ring focus:ring-[#4CAF50] focus:ring-opacity-50`,placeholder:"Contoh: 081234567890",required:!0}),t.number_wa&&e("p",{className:"mt-1 text-sm text-red-600",children:t.number_wa})]})]})]}),a("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700",children:["Alamat Lengkap"," ",e("span",{className:"text-red-500",children:"*"})]}),e("textarea",{name:"address",value:r.address,onChange:i=>s("address",i.target.value),rows:3,className:`mt-1 block w-full rounded-md border ${t.address?"border-red-300":"border-gray-300"} shadow-sm focus:border-[#4CAF50] focus:ring focus:ring-[#4CAF50] focus:ring-opacity-50`,required:!0}),t.address&&e("p",{className:"mt-1 text-sm text-red-600",children:t.address})]}),a("div",{className:"border-t border-gray-200 pt-6",children:[e("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informasi Pesantren"}),a("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700",children:["Nama Pesantren"," ",e("span",{className:"text-red-500",children:"*"})]}),e("input",{type:"text",name:"boarding_school_name",value:r.boarding_school_name,onChange:i=>s("boarding_school_name",i.target.value),className:`mt-1 block w-full rounded-md border ${t.boarding_school_name?"border-red-300":"border-gray-300"} shadow-sm focus:border-[#4CAF50] focus:ring focus:ring-[#4CAF50] focus:ring-opacity-50`,required:!0}),t.boarding_school_name&&e("p",{className:"mt-1 text-sm text-red-600",children:t.boarding_school_name})]}),a("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700",children:["Perkiraan Penghasilan Bulanan"," ",e("span",{className:"text-red-500",children:"*"})]}),a("select",{name:"estimated_monthly_income",value:r.estimated_monthly_income,onChange:i=>s("estimated_monthly_income",i.target.value),className:`mt-1 block w-full rounded-md border ${t.estimated_monthly_income?"border-red-300":"border-gray-300"} shadow-sm focus:border-[#4CAF50] focus:ring focus:ring-[#4CAF50] focus:ring-opacity-50`,required:!0,children:[e("option",{value:"",children:"-- Pilih Range Penghasilan --"}),e("option",{value:"< Rp 1.000.000",children:"Kurang dari Rp 1.000.000"}),e("option",{value:"Rp 1.000.000 - Rp 3.000.000",children:"Rp 1.000.000 - Rp 3.000.000"}),e("option",{value:"Rp 3.000.000 - Rp 5.000.000",children:"Rp 3.000.000 - Rp 5.000.000"}),e("option",{value:"> Rp 5.000.000",children:"Lebih dari Rp 5.000.000"})]}),t.estimated_monthly_income&&e("p",{className:"mt-1 text-sm text-red-600",children:t.estimated_monthly_income})]})]})]}),a("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700",children:["Motivasi Mengikuti Kompetisi"," ",e("span",{className:"text-red-500",children:"*"})]}),e("textarea",{name:"motivation",value:r.motivation,onChange:i=>s("motivation",i.target.value),rows:4,className:`mt-1 block w-full rounded-md border ${t.motivation?"border-red-300":"border-gray-300"} shadow-sm focus:border-[#4CAF50] focus:ring focus:ring-[#4CAF50] focus:ring-opacity-50`,placeholder:"Jelaskan motivasi Anda mengikuti kompetisi ini (maksimal 500 karakter)",required:!0}),t.motivation&&e("p",{className:"mt-1 text-sm text-red-600",children:t.motivation})]}),a("div",{className:"border-t border-gray-200 pt-6",children:[e("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload Dokumen"}),e("p",{className:"text-sm text-gray-500 mb-6",children:"Silakan upload dokumen baru jika ingin mengubah (format PDF, maksimal 2MB per file)"}),a("div",{className:"space-y-6",children:[a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Proposal Bisnis"}),a("p",{className:"text-sm text-[#4CAF50] mb-2",children:["File saat ini:"," ",e("a",{href:l.business_proposal_file_url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Lihat Dokumen"})]}),e("div",{className:"mt-1 flex items-center",children:a("label",{className:"flex flex-col items-center px-4 py-6 bg-white rounded-lg border border-dashed border-gray-300 cursor-pointer hover:bg-gray-50 transition-colors duration-150",children:[e("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e("span",{className:"mt-2 text-sm text-gray-600",children:r.business_proposal_file?r.business_proposal_file.name:"Pilih File Baru (Opsional)"}),e("input",{type:"file",name:"business_proposal_file",onChange:c("business_proposal_file"),className:"hidden",accept:".pdf"})]})}),t.business_proposal_file&&e("p",{className:"mt-1 text-sm text-red-600",children:t.business_proposal_file}),d&&a("progress",{value:d.percentage,max:"100",className:"w-full mt-2 h-1 rounded bg-gray-200 [&::-webkit-progress-bar]:rounded [&::-webkit-progress-value]:rounded [&::-webkit-progress-value]:bg-[#4CAF50]",children:[d.percentage,"%"]})]}),a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Sertifikat Mustahik"}),a("p",{className:"text-sm text-[#4CAF50] mb-2",children:["File saat ini:"," ",e("a",{href:l.mustahik_certificate_file_url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Lihat Dokumen"})]}),e("div",{className:"mt-1 flex items-center",children:a("label",{className:"flex flex-col items-center px-4 py-6 bg-white rounded-lg border border-dashed border-gray-300 cursor-pointer hover:bg-gray-50 transition-colors duration-150",children:[e("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e("span",{className:"mt-2 text-sm text-gray-600",children:r.mustahik_certificate_file?r.mustahik_certificate_file.name:"Pilih File Baru (Opsional)"}),e("input",{type:"file",name:"mustahik_certificate_file",onChange:c("mustahik_certificate_file"),className:"hidden",accept:".pdf"})]})}),t.mustahik_certificate_file&&e("p",{className:"mt-1 text-sm text-red-600",children:t.mustahik_certificate_file})]}),a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Sertifikat Pesantren"}),a("p",{className:"text-sm text-[#4CAF50] mb-2",children:["File saat ini:"," ",e("a",{href:l.pesantren_certificate_file_url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Lihat Dokumen"})]}),e("div",{className:"mt-1 flex items-center",children:a("label",{className:"flex flex-col items-center px-4 py-6 bg-white rounded-lg border border-dashed border-gray-300 cursor-pointer hover:bg-gray-50 transition-colors duration-150",children:[e("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e("span",{className:"mt-2 text-sm text-gray-600",children:r.pesantren_certificate_file?r.pesantren_certificate_file.name:"Pilih File Baru (Opsional)"}),e("input",{type:"file",name:"pesantren_certificate_file",onChange:c("pesantren_certificate_file"),className:"hidden",accept:".pdf"})]})}),t.pesantren_certificate_file&&e("p",{className:"mt-1 text-sm text-red-600",children:t.pesantren_certificate_file})]})]})]}),a("div",{className:"flex justify-end pt-6 border-t border-gray-200 space-x-4",children:[e(b,{href:route("user.registrations.index"),className:"inline-flex items-center px-6 py-3 border border-gray-300 shadow-sm text-base font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#4CAF50] transition-colors duration-200",children:"Batal"}),e("button",{type:"submit",disabled:o,className:`inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-[#4CAF50] hover:bg-[#259148] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#4CAF50] transition-colors duration-200 ${o?"opacity-75 cursor-not-allowed":""}`,children:o?a(g,{children:[a("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Memproses..."]}):"Simpan Perubahan"})]})]})]})})})})]})}export{A as default};
