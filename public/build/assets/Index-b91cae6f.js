import{X as p,r as h,a as t,j as e,S as u,F as f,x as y,A as c}from"./app-f1a8b610.js";import{A as b}from"./AuthenticatedLayout-71f34ef1.js";import{F as N,a as i,b as m,c as v,d as w,e as _,f as k,g as P,h as F}from"./index-c4182c7c.js";import"./index-60594ba4.js";import"./Toater-ded24001.js";function z({auth:o}){const{registrations:s,meta:a}=p().props,[n,g]=h.useState(""),l=()=>{a.current_page>1&&c.get(`/admin/registrations?page=${a.current_page-1}`,{},{preserveState:!0,preserveScroll:!0})},d=()=>{a.current_page<a.last_page&&c.get(`/admin/registrations?page=${a.current_page+1}`,{},{preserveState:!0,preserveScroll:!0})},x=s==null?void 0:s.filter(r=>r.user_name.toLowerCase().includes(n.toLowerCase()));return t(b,{auth:o,children:[e(u,{title:"Kelola Pendaftaran"}),e("div",{className:"",children:t("div",{className:"",children:[e("div",{className:"mb-6 flex justify-between items-center",children:t("div",{children:[e("h1",{className:"text-2xl font-bold text-gray-900",children:"Kelola Pendaftaran"}),e("p",{className:"mt-1 text-sm text-gray-600",children:"Review dan kelola semua pendaftaran peserta kompetisi"})]})}),e("div",{className:"mb-6",children:t("div",{className:"flex flex-col space-y-4 md:flex-row md:space-y-0 md:space-x-4 md:items-center md:justify-between",children:[t("div",{className:"relative w-full md:w-64",children:[e("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e(N,{className:"text-gray-400"})}),e("input",{type:"text",placeholder:"Cari Pendaftar",value:n,onChange:r=>g(r.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 sm:text-sm"})]}),e("div",{className:"w-full md:w-auto",children:t("a",{href:route("admin.registrations.export"),className:"inline-flex items-center justify-center w-full md:w-auto px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150",children:[e(i,{className:"mr-2"}),"Export Excel"]})})]})}),s.length===0?t("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[e("div",{className:"mx-auto h-24 w-24 text-gray-400 mb-4",children:e(m,{className:"w-full h-full"})}),e("h3",{className:"text-lg font-medium text-gray-900",children:"Belum ada pendaftaran"}),e("p",{className:"mt-2 text-gray-500",children:"Tidak ada pendaftaran untuk kategori yang Anda kelola saat ini."})]}):t(f,{children:[e("div",{className:"bg-white rounded-xl shadow-md overflow-hidden mb-4",children:e("div",{className:"overflow-x-auto",children:t("table",{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:t("tr",{children:[e("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Peserta"}),e("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kompetisi & Kategori"}),e("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dokumen"}),e("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(r=>t("tr",{className:"hover:bg-gray-50 transition-colors",children:[e("td",{className:"px-6 py-4",children:t("div",{className:"flex items-center",children:[e("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-green-100 flex items-center justify-center text-green-600",children:e(v,{size:20})}),t("div",{className:"ml-4",children:[e("div",{className:"font-medium text-gray-900",children:r.user_name}),t("div",{className:"text-sm text-gray-500 flex items-center",children:[e(w,{className:"mr-1",size:14}),r.number_wa]})]})]})}),t("td",{className:"px-6 py-4",children:[t("div",{className:"font-medium text-gray-900 flex items-center",children:[e(m,{className:"mr-2 text-green-500"}),r.competition_name]}),t("div",{className:"text-sm text-gray-500 flex items-center mt-1",children:[e(_,{className:"mr-2 text-purple-500"}),r.category_name]})]}),e("td",{className:"px-6 py-4",children:t("div",{className:"flex flex-col space-y-2",children:[t("a",{href:`${r.business_proposal_file}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-green-600 hover:text-green-800 flex items-center",children:[e(i,{className:"mr-1",size:14}),"Proposal Bisnis"]}),t("a",{href:`${r.mustahik_certificate_file}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-green-600 hover:text-green-800 flex items-center",children:[e(i,{className:"mr-1",size:14}),"Sertifikat Mustahik"]}),t("a",{href:`${r.pesantren_certificate_file}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-green-600 hover:text-green-800 flex items-center",children:[e(i,{className:"mr-1",size:14}),"Sertifikat Pesantren"]})]})}),e("td",{className:"px-6 py-4 text-right",children:e("div",{className:"flex justify-end space-x-2",children:t(y,{href:`/admin/registrations/${r.id}`,className:"p-2 text-green-600  rounded-lg transition-colors flex items-center gap-2 bg-green-100 text-[12px] hover:bg-green-200",title:"Lihat Detail",children:[e(k,{size:18}),"Detail"]})})})]},r.id))})]})})}),t("div",{className:"flex items-center justify-between bg-white px-4 py-3 rounded-b-lg border-t border-gray-200",children:[t("div",{className:"flex-1 flex justify-between sm:hidden",children:[e("button",{onClick:l,disabled:a.current_page===1,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${a.current_page===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Previous"}),e("button",{onClick:d,disabled:a.current_page===a.last_page,className:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${a.current_page===a.last_page?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Next"})]}),t("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e("div",{children:t("p",{className:"text-sm text-gray-700",children:["Showing"," ",e("span",{className:"font-medium",children:(a.current_page-1)*a.per_page+1})," ","to"," ",e("span",{className:"font-medium",children:Math.min(a.current_page*a.per_page,a.total)})," ","of"," ",e("span",{className:"font-medium",children:a.total})," ","results"]})}),e("div",{children:t("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[t("button",{onClick:l,disabled:a.current_page===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${a.current_page===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e("span",{className:"sr-only",children:"Previous"}),e(P,{className:"h-5 w-5","aria-hidden":"true"})]}),t("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:["Page ",a.current_page," of"," ",a.last_page]}),t("button",{onClick:d,disabled:a.current_page===a.last_page,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${a.current_page===a.last_page?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e("span",{className:"sr-only",children:"Next"}),e(F,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})})]})}export{z as default};
