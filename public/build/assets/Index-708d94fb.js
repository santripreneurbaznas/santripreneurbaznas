import{r as n,a as s,j as a,S as x,F as N,A as c}from"./app-d0d3b221.js";import{A as k}from"./AuthenticatedLayout-fc7a623b.js";import"./Toater-39104b02.js";import"./index-dea00dc5.js";import"./index-591c964b.js";function w({admins:t,categories:m,auth:o}){const[d,h]=n.useState(null),[i,r]=n.useState([]),u=e=>{h(e),r(e.managed_categories.map(l=>l.id))},g=e=>{r(l=>l.includes(e)?l.filter(b=>b!==e):[...l,e])},p=()=>{d&&c.post("/super-admin/admin-access",{admin_id:d.id,category_ids:i},{preserveScroll:!0,onSuccess:()=>{c.reload({only:["admins"]})}})};return s(k,{auth:o,children:[a(x,{title:"Manajemen Hak Akses Admin"}),a("div",{className:"py-6",children:a("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:[s("div",{className:"p-6 border-b border-gray-200",children:[a("h1",{className:"text-2xl font-bold",children:"Manajemen Hak Akses Admin"}),a("p",{className:"text-gray-600 mt-2",children:"Atur kategori apa saja yang bisa diakses oleh masing-masing admin"})]}),s("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-8",children:[s("div",{children:[a("h2",{className:"text-lg font-medium mb-4",children:"Daftar Admin"}),a("div",{className:"space-y-2",children:t.length===0?a("p",{className:"text-gray-500",children:"Belum ada admin"}):t.map(e=>s("div",{onClick:()=>u(e),className:`p-4 rounded-lg cursor-pointer ${(d==null?void 0:d.id)===e.id?"bg-blue-50 border border-blue-200":"hover:bg-gray-50 border border-transparent"}`,children:[a("h3",{className:"font-medium",children:e.name}),a("p",{className:"text-sm text-gray-600",children:e.email}),a("div",{className:"mt-2",children:s("span",{className:"text-xs font-medium px-2 py-1 bg-blue-100 text-blue-800 rounded",children:[e.managed_categories.length," ","Kategori"]})})]},e.id))})]}),a("div",{children:d?s(N,{children:[s("h2",{className:"text-lg font-medium mb-4",children:["Hak Akses untuk ",d.name]}),a("div",{className:"space-y-3",children:m.map(e=>s("div",{className:"flex items-center",children:[a("input",{type:"checkbox",id:`category-${e.id}`,checked:i.includes(e.id),onChange:()=>g(e.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a("label",{htmlFor:`category-${e.id}`,className:"ml-3 block text-sm font-medium text-gray-700",children:e.name})]},e.id))}),a("div",{className:"mt-6",children:a("button",{onClick:p,disabled:!i.length,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Simpan Perubahan"})})]}):a("div",{className:"bg-gray-50 p-8 text-center rounded-lg",children:a("p",{className:"text-gray-500",children:"Pilih admin terlebih dahulu untuk mengatur hak akses"})})})]})]})})})]})}export{w as default};
